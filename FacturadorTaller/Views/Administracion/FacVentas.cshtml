@model FacturadorTaller.ViewModel.ReporteFacViewModel

@{
    ViewBag.Title = "Reportes de Ventas Facturadas";
}

<h2>Reportes Ventas Facturadas</h2>

<table class="table">
    <tr>
        <th>
            Fecha Factura
        </th>
        <th>
            Cotizacion Numero
        </th>
        <th>
            Factura Numero
        </th>
        <th>
            NCF
        </th>
        <th>
            Cliente
        </th>
        <th>
            Monto
        </th>
        <th>
            Itbis
        </th>
    </tr>

    @foreach (var item in Model.Factura)
    {
    <tr>
        <td>
            @Html.DisplayFor(modelitem => item.FechaFac)
        </td>
        <td>
            @Html.DisplayFor(modelitem => item.CotizacionId)
        </td>
        <td>
            @Html.DisplayFor(modelitem => item.FacturaId)
        </td>
        <td>
            @Html.DisplayFor(modelitem => item.Ncf)
        </td>
        <td>
            @Html.DisplayFor(modelitem => item.Cotizacion.Clientes.NombreCliente)
        </td>
        <td>
            @Html.DisplayFor(modelitem => item.Cotizacion.TotalFactura)
        </td>
        <td>
            @Html.DisplayFor(modelitem => item.Cotizacion.Itbis)
        </td>
    </tr>
    }
</table>
@{decimal total = 0; }

@foreach (var i in Model.Factura)
{
  total += i.Cotizacion.TotalFactura;
}
<br />
@{decimal itbis = 0; }
@foreach (var i in Model.Factura)
{
    itbis += i.Cotizacion.Itbis;
}

<H2>Total : @total </H2>
<H2>Itbis Facturado: @itbis</H2>
<br />

<div>
    @Html.ActionLink("Volver a lista", "Index")

</div>
